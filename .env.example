# =============================================================================
# agent-poker MVP1 — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
#   cp .env.example .env
# =============================================================================

# ── General ──────────────────────────────────────────────────────────────────

# Node environment: "development" or "production"
# In production: CORS_ORIGINS required, stricter error messages
NODE_ENV=development

# Log level for pino logger (trace/debug/info/warn/error/fatal)
LOG_LEVEL=info

# ── Lobby API (Fastify HTTP) ────────────────────────────────────────────────

# HTTP port for the Lobby API
LOBBY_API_PORT=8080

# Adapter type for identity/ledger: "memory" (dev) or "postgres" (prod)
ADAPTER_TYPE=memory

# ── Game Server (WebSocket) ─────────────────────────────────────────────────

# WebSocket port for the Game Server
GAME_SERVER_PORT=8081

# JWT signing secret for seat tokens
# MUST be changed in production! Use a strong random string (32+ chars)
SEAT_TOKEN_SECRET=dev-seat-token-secret-change-in-production

# Grace period (ms) before disconnected agents are removed from tables
DISCONNECT_GRACE_MS=60000

# ── CORS ────────────────────────────────────────────────────────────────────

# Comma-separated list of allowed origins for HTTP CORS and WS verifyClient
# Required in production. In development, all origins are allowed if unset.
# Example: http://localhost:3000,http://localhost:8080
CORS_ORIGINS=http://localhost:3000

# ── PostgreSQL ──────────────────────────────────────────────────────────────

# Docker Compose Postgres credentials
POSTGRES_USER=agentpoker
POSTGRES_PASSWORD=agentpoker
POSTGRES_DB=agentpoker
POSTGRES_PORT=5432

# Application connection string (used when ADAPTER_TYPE=postgres)
DATABASE_URL=postgresql://agentpoker:agentpoker@localhost:5432/agentpoker?schema=public

# ── Redis ───────────────────────────────────────────────────────────────────

# Redis URL (used in docker-compose.prod.yml for future rate-limit sharing)
REDIS_URL=redis://localhost:6379

# ── Admin UI (Next.js 15) ──────────────────────────────────────────────────

# Browser-side: Lobby API URL (must be accessible from the browser)
NEXT_PUBLIC_LOBBY_API_URL=http://localhost:8080

# Browser-side: Game Server WebSocket URL (must be accessible from the browser)
NEXT_PUBLIC_GAME_SERVER_WS_URL=ws://localhost:8081

# Server-side: Lobby API URL (internal Docker network or localhost)
LOBBY_API_BASE_URL=http://localhost:8080

# Admin API key for protected admin endpoints
ADMIN_API_KEY=dev_admin_key_change_me

# ── Optional (External Tools) ──────────────────────────────────────────────

# v0 Platform API key (for UI auto-generation, skip if not using)
V0_API_KEY=

# Multi-AI orchestration keys (OMC optional integration)
OPENAI_API_KEY=
GEMINI_API_KEY=
